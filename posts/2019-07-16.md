# 在CCS(Code Composer Studio)的Watch Window中查看有符号数和无符号数

在使用CCS3.3的Watch Window观测变量值时，发现对于有符号数和无符号数来说，不同的进制对应的值有所不同，现总结如下。

## 1 计算机存储正负数方式

计算机中表达带符号整数使用的是补码的形式，最高位代表符号位，0表示正数，1表示负数。

正数的补码与原码相同，负数的补码为原码按绝对值取反（即，符号位不变，后面取反）后再加1。

用补码的好处是将减法和加法统一起来，都按加法来处理，同时符号位能与其他位一起参加运算。

以`int16`（即存储空间占16位的有符号整数）为例，如`-1`这个数，

* 原码为 `1000 0000 0000 0001`  
* 反码为 `1111 1111 1111 1110`  
* 补码为 `1111 1111 1111 1111`  
* 表示成16进制数就是`0xFFFF`  

## 2 在CCS中查看有符号数

在CCS3.3的Watch Window，将一个变量添加进Watch Window后会显示以下四列：
* Name 变量名称
* Value 在对应进制下的值
* Type 数据类型
* Radix 进制

比如一个`int16`型的变量，值为`-1`，在不同进制下的值为

Value | Type | Radix
---------------|-------|-------
0xFFFF      | int16    | hex   
-1          | int16    | dec   
1111 1111 1111 1111 | int16    | bin

可见在16进制（hex）和2进制（bin）表示时，Value代表了数据的实际存储形式，而10进制（dec）下的Value为数据的有符号数格式，即`int`。

**在CCS3.3中，进制（Radix）可选择hex/十六进制、dec/十进制、bin/二进制、oct/八进制、char/字符型、float/浮点数、scientific/科学记数法、unsigned/无符号数、auto/自动模式和qvalue/Q格式这几种格式，并没有int形式，可以认为dec即为int**。

## 3 在CCS中查看无符号数

如果将上述十六进制数`0xFFFF`表示为无符号数，数据类型是`Uint16`，则在`unsigned int` 进制下其Value是65535，在10进制模式下其Value为对应的int16类型的数值，如下表所示：

Value | Type | Radix
---------------|-------|-------
0xFFFF      | Uint16    | hex   
-1          | Uint16    | dec   
1111 1111 1111 1111 | Uint16    | bin
65535          | Uint16    | unsigned int
